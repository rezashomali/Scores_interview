(window["webpackJsonppartner-infrastructure-frontend-interview"]=window["webpackJsonppartner-infrastructure-frontend-interview"]||[]).push([[0],{233:function(e,t,a){e.exports=a(421)},238:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(14),c=a.n(l),i=a(470),o=(a(238),a(25)),s=a(86),u=a(182),m=a(4),d=a(460),p=a(471),E=a(472),g=a(473),f=a(72),h=a(478),y=a(474),v=a(462),b=a(475),w=a(461),j=a(422),k=a(197),O=a.n(k),C=a(198),S=a.n(C),x=a(453),z=a(457),D=a(458),B=a(459),N=a(187),L=a.n(N),I=a(121),T=a.n(I),_=r.a.createElement("div",null,r.a.createElement(x.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(L.a,null)),r.a.createElement(D.a,{primary:"Dashboard"}))),H=function(e){var t=e.selectChartDataType,a=e.chartDataType;return r.a.createElement("div",null,r.a.createElement(B.a,{inset:!0},"Saved reports"),r.a.createElement(x.a,{selected:"gender"===a,button:!0,onClick:function(){return t("gender")}},r.a.createElement(z.a,null,r.a.createElement(T.a,null)),r.a.createElement(D.a,{primary:"Scores by gender"})),r.a.createElement(x.a,{selected:"country"===a,button:!0,onClick:function(){return t("country")}},r.a.createElement(z.a,null,r.a.createElement(T.a,null)),r.a.createElement(D.a,{primary:"Scores by country"})))},F=a(38),P=function(e){return r.a.createElement(f.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},W=function(e){var t=e.chartData,a=e.chartDataType;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null,"Score statistics"),r.a.createElement(F.d,null,r.a.createElement(F.b,{data:t,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(F.e,null),r.a.createElement(F.f,{dataKey:a}),r.a.createElement(F.g,null,r.a.createElement(F.c,{angle:270,position:"left",style:{textAnchor:"middle"}},"Average score")),r.a.createElement(F.a,{type:"monotone",dataKey:"score",fill:"#556CD6"}))))},G=a(476),M=a(463),A=a(464),J=a(465),K=a(466),R=a(467),q=a(468),X=a(469),$=a(70),Q=a.n($),U=a(71),V=a.n(U),Y=Object(d.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}})),Z=function(e){var t=e.userData,a=Y(),l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)({key:null,direction:null}),g=Object(o.a)(E,2),f=g[0],h=g[1],y=t;Object(n.useMemo)((function(){return null!==f.key&&y.sort((function(e,t){var a,n,r,l;return(null===(a=e[f.key])||void 0===a?void 0:a.toLowerCase())<(null===(n=t[f.key])||void 0===n?void 0:n.toLowerCase())?"ascending"===f.direction?-1:1:(null===(r=e[f.key])||void 0===r?void 0:r.toLowerCase())>(null===(l=t[f.key])||void 0===l?void 0:l.toLowerCase())?"ascending"===f.direction?1:-1:0})),y}),[f,t]);var v=function(e){var t="ascending";f.key===e&&"ascending"===f.direction&&(t="descending"),h({key:e,direction:t})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:3},r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(P,null,"Scores listing")),r.a.createElement(w.a,{item:!0,xs:6,align:"right"},r.a.createElement(G.a,{label:"search...",variant:"outlined",size:"small",value:d,onChange:function(e){return p(e.target.value.toLowerCase())}}))),r.a.createElement(M.a,{size:"small"},r.a.createElement(A.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{size:"small",padding:"none"},r.a.createElement(R.a,{type:"button",size:"small",endIcon:"last_name"===f.key?"ascending"===f.direction?r.a.createElement(Q.a,null):r.a.createElement(V.a,null):"",onClick:function(){return v("last_name")}},"Last name")),r.a.createElement(K.a,{size:"small",padding:"none"},r.a.createElement(R.a,{type:"button",size:"small",endIcon:"first_name"===f.key?"ascending"===f.direction?r.a.createElement(Q.a,null):r.a.createElement(V.a,null):"",onClick:function(){return v("first_name")}},"First name")),r.a.createElement(K.a,{size:"small",padding:"none"},"Gender"),r.a.createElement(K.a,{size:"small",padding:"none"},r.a.createElement(R.a,{size:"small",type:"button",endIcon:"city"===f.key?"ascending"===f.direction?r.a.createElement(Q.a,null):r.a.createElement(V.a,null):"",onClick:function(){return v("city")}},"City")),r.a.createElement(K.a,{size:"small",padding:"none"},r.a.createElement(R.a,{size:"small",type:"button",endIcon:"country"===f.key?"ascending"===f.direction?r.a.createElement(Q.a,null):r.a.createElement(V.a,null):"",onClick:function(){return v("country")}},"Country")),r.a.createElement(K.a,{align:"right",size:"small",padding:"none"},"Score"))),r.a.createElement(q.a,null,y.filter((function(e){var t,a,n,r;return""===d||(null===(t=e.last_name)||void 0===t?void 0:t.toLowerCase().includes(d))||(null===(a=e.first_name)||void 0===a?void 0:a.toLowerCase().includes(d))||(null===(n=e.city)||void 0===n?void 0:n.toLowerCase().includes(d))||(null===(r=e.country)||void 0===r?void 0:r.toLowerCase().includes(d))})).slice(0,i?-1:10).map((function(e){return r.a.createElement(J.a,{key:e.id},r.a.createElement(K.a,null,e.last_name),r.a.createElement(K.a,null,e.first_name),r.a.createElement(K.a,null,e.gender),r.a.createElement(K.a,null,e.city),r.a.createElement(K.a,null,e.country),r.a.createElement(K.a,{align:"right"},e.score))})))),r.a.createElement("div",{className:a.seeMore},r.a.createElement(X.a,{onClick:function(){return s(!i)},color:"primary",href:"#"},i?"See less scores":"see more scores")))},ee=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),te=function(){var e=ee(),t=Object(n.useState)(!0),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(m.a)(e.paper,e.fixedHeight),u=Object(n.useState)([]),d=Object(o.a)(u,2),k=d[0],C=d[1],x=Object(n.useState)([]),z=Object(o.a)(x,2),D=z[0],B=z[1],N=Object(n.useState)([]),L=Object(o.a)(N,2),I=L[0],T=L[1],F=Object(n.useState)("country"),P=Object(o.a)(F,2),G=P[0],M=P[1];Object(n.useEffect)((function(){fetch("http://localhost:3000/api/people.json").then((function(e){return e.json()})).then((function(e){C(e),B(A(e)),T(J(e))})).catch((function(e){return console.log(e)}))}),[]);var A=function(e){var t={},a=[];return e.map((function(e){return t[e.country]?(t[e.country].score+=e.score,t[e.country].count+=1):t[e.country]={score:0,count:1},0})),Object.keys(t).map((function(e){return a.push({country:e,score:t[e].score/t[e].count}),0})),a},J=function(e){var t={},a=[];return e.map((function(e){return t[e.gender]?(t[e.gender].score+=e.score,t[e.gender].count+=1):t[e.gender]={score:0,count:1},0})),Object.keys(t).map((function(e){return a.push({gender:e,score:t[e].score/t[e].count}),0})),a};return r.a.createElement("div",{className:e.root},r.a.createElement(i.a,null),r.a.createElement(p.a,{position:"absolute",className:Object(m.a)(e.appBar,l&&e.appBarShift)},r.a.createElement(E.a,{className:e.toolbar},r.a.createElement(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(m.a)(e.menuButton,l&&e.menuButtonHidden)},r.a.createElement(O.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Holidu Interview Dashboard"))),r.a.createElement(h.a,{variant:"permanent",classes:{paper:Object(m.a)(e.drawerPaper,!l&&e.drawerPaperClose)},open:l},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(g.a,{onClick:function(){c(!1)}},r.a.createElement(S.a,null))),r.a.createElement(y.a,null),r.a.createElement(v.a,null,_),r.a.createElement(y.a,null),r.a.createElement(v.a,null,r.a.createElement(H,{chartDataType:G,selectChartDataType:M}))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(b.a,{maxWidth:"lg",className:e.container},r.a.createElement(w.a,{container:!0,spacing:3},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(j.a,{className:s},r.a.createElement(W,{chartDataType:G,chartData:"country"===G?D:I}))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(j.a,{className:e.paper},k&&r.a.createElement(Z,{userData:k})))))))};a(420);function ae(){return r.a.createElement(te,null)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(ae,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[233,1,2]]]);
//# sourceMappingURL=main.c68a53e6.chunk.js.map